<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Everything You need for development">

    <title>Background Processing with AsyncTask - Jungwoon Blog</title>

    <link rel="canonical" href="http://localhost:4000/android/2016/09/19/Background-Processing-with-AsyncTask/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Jungwoon Blog" />

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Jungwoon Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                
				
                <li>
                    <a href="/about/">About</a>
                </li>
				
                
				
                <li>
                    <a href="/contact/">Contact</a>
                </li>
				
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/img/home-bg.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Background Processing with AsyncTask</h1>
                    
                    <span class="meta">Posted by Jungwoon Blog on September 19, 2016</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

				<h3 id="asynctask를-이용한-mainthread-분리">AsyncTask를 이용한 MainThread 분리</h3>
<p>안드로이드 개발을 하다보면 MainThread와 별도로 처리해야하는 API들이 있습니다.
대표적인 예로 Network 관련 API들은 반드시 MainThread와 분리해야 하는데,
Thread를 생성하면 별도로 생성되기때문에 리턴등을 통한 동기화 작업이 까다롭습니다.
그래서 다음과 같이 처리는 백그라운드에서 처리하고 리턴을 받는 예제를 공유합니다.</p>

<p>다양한 방법이 있겠지만, 여기선 <code class="highlighter-rouge">AsyncTask</code>를 사용하였습니다.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="c1">// 별도로 return값을 받을때까지 대기</span>
<span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">ProcessManager</span><span class="o">.</span><span class="na">Process</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AsyncGetRunningApps</span><span class="o">().</span><span class="na">execute</span><span class="o">().</span><span class="na">get</span><span class="o">();</span>
<span class="c1">// 백그라운드에서 처리해주는 부분</span>
<span class="kd">private</span> <span class="kd">class</span> <span class="nc">AsyncGetRunningApps</span> <span class="kd">extends</span> <span class="n">AsyncTask</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">,</span> <span class="n">Void</span><span class="o">,</span> <span class="n">List</span><span class="o">&gt;</span> <span class="o">{</span>
 <span class="kd">protected</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">ProcessManager</span><span class="o">.</span><span class="na">Process</span><span class="o">&gt;</span> <span class="nf">doInBackground</span><span class="o">(</span><span class="n">Void</span><span class="err">…</span> <span class="n">arg0</span><span class="o">)</span> <span class="o">{</span>
 <span class="n">List</span><span class="o">&lt;</span><span class="n">ProcessManager</span><span class="o">.</span><span class="na">Process</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">ProcessManager</span><span class="o">.</span><span class="na">getRunningApps</span><span class="o">();</span>
 <span class="k">return</span> <span class="n">list</span><span class="o">;</span> <span class="c1">// 백그라운드에서 처리된 결과를 리턴(Point!!)</span>
 <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>


                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/android/2016/09/18/SharedPreference-%E1%84%83%E1%85%A9%E1%86%BC%E1%84%80%E1%85%B5%E1%84%92%E1%85%AA-%E1%84%86%E1%85%AE%E1%86%AB%E1%84%8C%E1%85%A6/" data-toggle="tooltip" data-placement="top" title="SharedPreference 동기화 문제">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/tips/2016/09/20/PHP-OCI8-Installation-on-MacOS/" data-toggle="tooltip" data-placement="top" title="PHP OCI8 Installation on MacOS">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/byPJW">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://www.facebook.com/byjw.park">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://github.com/jungwoon">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="mailto:byjungwoon@gmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; byJW 2017</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>


    


</body>

</html>
